From c3ddb1e7b2579e28fce26bb31d3b6d85218ca525 Mon Sep 17 00:00:00 2001
From: David Davis <daviddavis@microsoft.com>
Date: Tue, 18 Oct 2022 18:15:24 +0000
Subject: [PATCH] Merged PR 6950075: Re-apply pulp_deb release field patch

Re-apply pulp_deb release field patch
---
 CHANGES/449.feature                                | 1 -
 pulp_deb/app/migrations/0020_add_release_fields.py | 4 ++--
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/CHANGES/449.feature b/CHANGES/449.feature
index 7720322..f682d87 100644
--- a/CHANGES/449.feature
+++ b/CHANGES/449.feature
@@ -1,2 +1 @@
 Added ``version``, ``origin``, ``label``, and ``description`` fields to Releases.
-Also added a unique constraint per repo on Release distribution field.
diff --git a/pulp_deb/app/migrations/0020_add_release_fields.py b/pulp_deb/app/migrations/0020_add_release_fields.py
index 7451677..9f8cd60 100644
--- a/pulp_deb/app/migrations/0020_add_release_fields.py
+++ b/pulp_deb/app/migrations/0020_add_release_fields.py
@@ -1,4 +1,4 @@
-# Generated by Django 3.2.16 on 2022-10-15 11:41
+# Generated by Django 3.2.16 on 2022-10-18 13:03
 
 from django.db import migrations, models
 
@@ -56,6 +56,6 @@ class Migration(migrations.Migration):
         ),
         migrations.AlterUniqueTogether(
             name='releasefile',
-            unique_together={('codename', 'suite', 'distribution', 'origin', 'label', 'components', 'architectures', 'relative_path', 'sha256', 'artifact_set_sha256')},
+            unique_together={('codename', 'suite', 'distribution', 'version', 'origin', 'label', 'description', 'components', 'architectures', 'relative_path', 'sha256', 'artifact_set_sha256')},
         ),
     ]
-- 
2.31.1

